@import "tailwindcss";

@theme {
  /* SPACING (8px base system) */
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;
  --spacing-xxl: 48px;
  --spacing-section: 64px;

  /* COLORS - Dawn Theme (Light) */
  --color-aurora: #FF6B35;
  --color-blue: #2E86AB;
  --color-gold: #F18F01;
  
  --color-surface-white: #FFFFFF;
  --color-surface-mist: #F8FAFC;
  --color-surface-gray: #E2E8F0;
  
  --color-text-primary: #0F172A;
  --color-text-secondary: #475569;
  --color-text-muted: #64748B;
  
  --color-success: #059669;
  --color-warning: #D97706;
  --color-error: #DC2626;
  --color-info: #0284C7;
  
  --color-sleep-light: #F59E0B;
  --color-sleep-standard: #8B5CF6;
  --color-sleep-deep: #A855F7;

  /* COLORS - Midnight Theme (Dark) - via CSS custom properties for theme switching */
  --color-aurora-dark: #FF7A59;
  --color-blue-dark: #3B9ECD;
  --color-gold-dark: #FFB627;
  
  --color-surface-night: #0F172A;
  --color-surface-slate: #1E293B;
  --color-surface-border: #334155;
  
  --color-text-primary-dark: #F1F5F9;
  --color-text-secondary-dark: #94A3B8;
  --color-text-muted-dark: #64748B;
  
  --color-success-dark: #10B981;
  --color-warning-dark: #F59E0B;
  --color-error-dark: #EF4444;
  --color-info-dark: #06B6D4;
  
  --color-sleep-light-dark: #F97316;
  --color-sleep-standard-dark: #A855F7;
  --color-sleep-deep-dark: #7C3AED;

  /* TYPOGRAPHY */
  --font-family-primary: "Inter Variable", "Inter", system-ui, sans-serif;
  --font-family-mono: "Fira Code Variable", "Fira Code", "Consolas", monospace;

  /* ANIMATION TIMING */
  --ease-standard: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-enter: cubic-bezier(0, 0, 0.2, 1);
  --ease-exit: cubic-bezier(0.4, 0, 1, 1);
  --ease-bouncy: cubic-bezier(0.68, -0.55, 0.265, 1.55);
  
  --duration-fast: 150ms;
  --duration-standard: 300ms;
  --duration-slow: 600ms;
  --duration-awakening: 800ms;

  /* BREAKPOINTS */
  --breakpoint-mobile: 320px;
  --breakpoint-tablet: 768px;
  --breakpoint-desktop: 1024px;
  --breakpoint-large: 1440px;

  /* LAYOUT CONSTRAINTS */
  --layout-max-width: 1200px;
  --layout-sidebar-width: 280px;
  --layout-header-height: 80px;
  --layout-card-min-height: 200px;
  --layout-card-width: 320px;
}

/* Theme switching support */
:root {
  /* Default Dawn theme */
  --current-aurora: var(--color-aurora);
  --current-blue: var(--color-blue);
  --current-gold: var(--color-gold);
  --current-surface-primary: var(--color-surface-white);
  --current-surface-secondary: var(--color-surface-mist);
  --current-border: var(--color-surface-gray);
  --current-text-primary: var(--color-text-primary);
  --current-text-secondary: var(--color-text-secondary);
  --current-text-muted: var(--color-text-muted);
  --current-success: var(--color-success);
  --current-warning: var(--color-warning);
  --current-error: var(--color-error);
  --current-info: var(--color-info);
  --current-sleep-light: var(--color-sleep-light);
  --current-sleep-standard: var(--color-sleep-standard);
  --current-sleep-deep: var(--color-sleep-deep);
}

[data-theme="midnight"] {
  --current-aurora: var(--color-aurora-dark);
  --current-blue: var(--color-blue-dark);
  --current-gold: var(--color-gold-dark);
  --current-surface-primary: var(--color-surface-night);
  --current-surface-secondary: var(--color-surface-slate);
  --current-border: var(--color-surface-border);
  --current-text-primary: var(--color-text-primary-dark);
  --current-text-secondary: var(--color-text-secondary-dark);
  --current-text-muted: var(--color-text-muted-dark);
  --current-success: var(--color-success-dark);
  --current-warning: var(--color-warning-dark);
  --current-error: var(--color-error-dark);
  --current-info: var(--color-info-dark);
  --current-sleep-light: var(--color-sleep-light-dark);
  --current-sleep-standard: var(--color-sleep-standard-dark);
  --current-sleep-deep: var(--color-sleep-deep-dark);
}

body {
  background: var(--current-surface-primary);
  color: var(--current-text-primary);
  font-family: var(--font-family-primary);
  line-height: 1.6;
}

/* ===== COMPONENT UTILITIES ===== */
@layer components {
  /* Button variants */
  .btn-primary {
    @apply bg-aurora text-white px-6 py-3 rounded-lg font-medium border-0 cursor-pointer;
    transition: all var(--duration-standard) var(--ease-standard);
  }
  
  .btn-primary:hover {
    transform: scale(1.02);
    filter: brightness(110%);
  }
  
  .btn-primary:active {
    transform: scale(0.98);
    filter: brightness(95%);
  }
  
  .btn-secondary {
    @apply bg-blue text-white px-6 py-3 rounded-lg font-medium border-0 cursor-pointer;
    transition: all var(--duration-standard) var(--ease-standard);
  }
  
  .btn-ghost {
    @apply bg-transparent text-current px-6 py-3 rounded-lg font-medium cursor-pointer;
    border: 1px solid var(--current-border);
    transition: all var(--duration-standard) var(--ease-standard);
  }

  /* Card components */
  .card {
    @apply bg-surface-white rounded-xl p-6 relative;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    transition: all var(--duration-standard) var(--ease-standard);
  }
  
  .card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(0,0,0,0.15);
  }
  
  .project-card {
    @apply card;
    width: var(--layout-card-width);
    min-height: var(--layout-card-min-height);
  }
  
  .sleep-badge {
    @apply absolute top-4 right-4 w-12 h-12 rounded-full flex items-center justify-center text-xs font-semibold text-white;
  }
  
  .sleep-badge.light {
    background: var(--current-sleep-light);
  }
  
  .sleep-badge.standard {
    background: var(--current-sleep-standard);
  }
  
  .sleep-badge.deep {
    background: var(--current-sleep-deep);
  }

  /* Input components */
  .input {
    @apply bg-surface-mist border rounded-lg px-4 py-3 text-sm w-full;
    border-color: var(--current-border);
    transition: all var(--duration-fast) var(--ease-enter);
  }
  
  .input:focus {
    border-color: var(--current-aurora);
    box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
    outline: none;
  }
}

/* ===== SLEEP STATE ANIMATIONS ===== */
@layer utilities {
  /* Deep sleep state (61-100) */
  .sleep-deep {
    opacity: 0.5;
    transform: scale(0.92);
    filter: grayscale(60%) blur(1px);
    animation: sleepPulse 6s ease-in-out infinite;
  }
  
  @keyframes sleepPulse {
    0%, 100% { opacity: 0.5; }
    50% { opacity: 0.6; }
  }
  
  /* Light sleep state (0-30) */
  .sleep-light {
    opacity: 0.9;
    transform: scale(0.98);
    filter: grayscale(15%);
    animation: lightBreathing 4s ease-in-out infinite;
  }
  
  @keyframes lightBreathing {
    0%, 100% { transform: scale(0.98); }
    50% { transform: scale(1); }
  }
  
  /* Standard sleep state (31-60) */
  .sleep-standard {
    opacity: 0.7;
    transform: scale(0.96);
    filter: grayscale(35%) blur(0.5px);
    animation: standardPulse 5s ease-in-out infinite;
  }
  
  @keyframes standardPulse {
    0%, 100% { opacity: 0.7; }
    50% { opacity: 0.8; }
  }
  
  /* Awakening transition */
  .awakening-phase1 {
    animation: awakeningPhase1 var(--duration-awakening) var(--ease-standard) forwards;
  }
  
  .awakening-phase2 {
    animation: awakeningPhase2 600ms var(--ease-standard) forwards;
  }
  
  .awakening-phase3 {
    animation: awakeningPhase3 400ms var(--ease-standard) forwards;
  }
  
  .awakening-ready {
    animation: gentlePulse 2s ease-in-out infinite;
  }
  
  @keyframes awakeningPhase1 {
    from {
      opacity: 0.5;
      transform: scale(0.92);
      filter: grayscale(60%) blur(1px);
    }
    to {
      opacity: 0.7;
      transform: scale(0.96);
      filter: grayscale(35%) blur(0.5px);
    }
  }
  
  @keyframes awakeningPhase2 {
    from {
      opacity: 0.7;
      transform: scale(0.96);
      filter: grayscale(35%) blur(0.5px);
    }
    to {
      opacity: 0.9;
      transform: scale(0.98);
      filter: grayscale(15%);
    }
  }
  
  @keyframes awakeningPhase3 {
    from {
      opacity: 0.9;
      transform: scale(0.98);
      filter: grayscale(15%);
    }
    to {
      opacity: 1;
      transform: scale(1);
      filter: none;
      box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
    }
  }
  
  @keyframes gentlePulse {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.02); }
  }
  
  /* Layout utilities */
  .dashboard-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(var(--layout-card-width), 1fr));
    gap: var(--spacing-lg);
    max-width: var(--layout-max-width);
    margin: 0 auto;
    padding: 0 var(--spacing-lg);
  }
  
  /* Responsive container utilities */
  .container-mobile {
    padding: 0 var(--spacing-md);
    max-width: 100%;
  }
  
  .container-desktop {
    padding: 0 var(--spacing-xxl);
    max-width: var(--layout-max-width);
    margin: 0 auto;
  }
  
  /* Flex utilities */
  .flex-center { @apply flex items-center justify-center; }
  .flex-between { @apply flex items-center justify-between; }
  .flex-column { @apply flex flex-col; }
  .flex-wrap { @apply flex flex-wrap; }
}

/* ===== ACCESSIBILITY ===== */
@media (prefers-reduced-motion: reduce) {
  .sleep-deep,
  .sleep-light,
  .sleep-standard,
  .awakening-phase1,
  .awakening-phase2,
  .awakening-phase3,
  .awakening-ready {
    animation: none;
  }
  
  .card:hover,
  .btn-primary:hover,
  .btn-primary:active {
    transform: none;
  }
}
